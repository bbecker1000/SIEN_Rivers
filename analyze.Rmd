---
output:
  pdf_document: default
  html_document: default
---
# Hydrology Analysis

### Installation
Only necessary to run this cell once to set up local machine
```{r}
install.packages('tidyverse', repos='http://cran.us.r-project.org')
```

### Set up Environment
Loads the [Tidyverse](https://www.tidyverse.org/) and imports necessary functions
```{r, warning = FALSE}
library(tidyverse)
source('./Rcode/utils.R')
```

### Read Data
To run the programs on your desired file, set `inputFile` to the appropriate file path
```{r}
inputFile <- './Data_Raw/MercedHI_Q_T_2022023.txt' # Set to appropriate file
data <- readUsgsData(inputFile, startDate = ymd('1915-10-01'))
```

### Generate and Analyze Output
There are two cells each R program: the first will generate output and store it in the `./Output/` folder,
and the second gives space to produce visualizations of the output

#### surfwtr.R
Generate output
```{r}
source('./Rcode/surfwtr.R')
surfwtrOutput <- surfwtr(data)
summarizeOutput(surfwtrOutput)
```

```{r}
# Space to visualize surfwtrOutput
```

#### snwpulse.R
Generate output
```{r}
source('./Rcode/snwpulse.R')
snwpulseOutput <- snwpulse(data)
summarizeOutput(snwpulseOutput)
```

```{r}
# Space to visualize snwpulseOutput
```

#### lwflow.R
Generate output
```{r}
source('./Rcode/lwflow.R')
lwflowOutputs <- lwflow(data) # Returns list of tables
invisible(lapply(lwflowOutputs, summarizeOutput))
```

```{r}
# Space to visualize lwflowOutputs
```

#### hiflow.R
Generate output
```{r}
source('./Rcode/hiflow.R')
hiflowOutputs <- hiflow(data) # Returns list of tables
invisible(lapply(hiflowOutputs, summarizeOutput))
```

```{r}
# Space to visualize hiflowOutputs
```

#### fldur.R
Generate output
```{r}
source('./Rcode/fldur.R')
fldurOutput <- fldur(data) %>% ungroup()
summarizeOutput(fldurOutput)
```

```{r}
# Space to visualize fldurOutput
```
